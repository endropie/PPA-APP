(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["2d0a4f7c"],{"0963":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.SHOW?a("q-page",{staticClass:"page-index",attrs:{padding:""}},[a("q-pull-to-refresh",{attrs:{handler:t.TABLE.refresh,inline:""}},[a("q-table",{ref:"table",staticClass:"table-index",attrs:{inline:"",color:"primary",dark:t.LAYOUT.isDark,title:t.TABLE.getTitle(),data:t.TABLE.rowData,columns:t.TABLE.columns,filter:t.TABLE.filter,selection:"none",selected:t.TABLE.selected,"row-key":"id",pagination:t.TABLE.pagination,loading:t.TABLE.loading},on:{"update:selected":function(e){return t.$set(t.TABLE,"selected",e)},"update:pagination":function(e){return t.$set(t.TABLE,"pagination",e)},request:t.TABLE.compute},scopedSlots:t._u([{key:"top-left",fn:function(e){return[a("div",[a("div",{staticClass:"row q-pa-xs q-gutter-xs"},[a("q-field",{staticClass:"col-auto",staticStyle:{width:"200px"}},[a("q-select",{attrs:{name:"customer_id","stack-label":"",label:"Customer",options:t.CustomerOptions,filter:""},model:{value:t.FILTERABLE.fill.customer_id.value,callback:function(e){t.$set(t.FILTERABLE.fill.customer_id,"value",e)},expression:"FILTERABLE.fill.customer_id.value"}})],1),a("q-field",{staticClass:"col"},[a("q-input",{attrs:{"stack-label":"",label:"Begin Date",type:"date"},model:{value:t.FILTERABLE.fill.date_start.value,callback:function(e){t.$set(t.FILTERABLE.fill.date_start,"value",e)},expression:"FILTERABLE.fill.date_start.value"}})],1),a("q-field",{staticClass:"col"},[a("q-input",{attrs:{"stack-label":"",label:"Until Date",type:"date"},model:{value:t.FILTERABLE.fill.date_end.value,callback:function(e){t.$set(t.FILTERABLE.fill.date_end,"value",e)},expression:"FILTERABLE.fill.date_end.value"}})],1)],1),a("div",{staticClass:"row q-pa-xs q-gutter-xs items-end"},[a("q-field",{ref:"filterable",staticClass:"col-12",attrs:{"label-width":"1"}},[a("q-chips-input",{attrs:{name:"filterable","add-icon":" ",value:t.FILLABEL.value,placeholder:"Searching...",color:"blue-grey-5"},on:{add:t.FILTERABLE.setCreate,remove:t.FILTERABLE.setRemove}},[a("q-popover",{attrs:{anchor:"bottom right",self:"top right",fit:"","no-focus":"","no-refocus":""}})],1)],1),a("span",{staticClass:"col q-ml-xs q-pt-xs"},[a("q-btn",{staticClass:"float-right",attrs:{icon:"search",label:"Search",size:"sm",color:"secondary",right:""},on:{click:function(e){return t.FILTERABLE.submit()}}})],1)],1)])]}},{key:"body-cell-prefix",fn:function(e){return a("q-td",{staticStyle:{width:"35px"},attrs:{props:e}},[a("q-btn",{class:{invisible:!0===e.row.is_relationship},attrs:{dense:"",flat:"",color:"light",icon:"edit"}},[e.row.ship_delivery_id?t._e():a("q-popup-edit",{attrs:{title:"Update Quantity",buttons:""},on:{save:function(e,a){return t.saveRow(e,a)},cancel:function(e,a){return t.cancelRow(e,a)}},model:{value:e.row,callback:function(a){t.$set(e,"row",a)},expression:"rs.row"}},[a("q-field",{staticClass:"col-12 col-sm-6"},[a("q-input",{attrs:{label:"Quantity",type:"number"},model:{value:e.row.quantity,callback:function(a){t.$set(e.row,"quantity",a)},expression:"rs.row.quantity"}})],1),a("q-field",{staticClass:"col-12 col-sm-6"})],1)],1),a("q-btn",{class:{invisible:e.row.ship_delivery_id},attrs:{dense:"",flat:"",color:"light",icon:"delete"},nativeOn:{click:function(a){return t.TABLE.delete(e.row)}}})],1)}},{key:"body-cell-status",fn:function(e){return a("q-td",{staticStyle:{width:"35px"},attrs:{props:e}},[e.row.ship_delivery_id?a("q-chip",{staticClass:"q-px-sm q-py-xs",attrs:{dense:"",color:"primary"}},[t._v("Delivered")]):a("q-chip",{staticClass:"q-px-sm q-py-xs",attrs:{dense:"",color:"light"}},[t._v("Wait")])],1)}},{key:"body-cell-quantity",fn:function(e){return a("q-td",{staticStyle:{width:"35px"},attrs:{props:e}},[a("span",{class:{"text-weight-light highlight-and-fade":!e.row.ship_delivery_id}},[t._v(t._s(e.row.quantity))])])}}],null,!1,1342060594)})],1)],1):t._e()},l=[],n=(a("551c"),a("06db"),a("097d"),a("7f7f"),a("9155")),s={mixins:[n["a"]],data:function(){return{SHEET:{customers:{data:[],api:"/api/v1/incomes/customers?mode=all"}},FILTERABLE:{fill:{customer_id:{value:null,type:"integer",transform:function(t){return null}},date_start:{value:null,type:"date",transform:function(t){return null}},date_end:{value:null,type:"date",transform:function(t){return null}}}},TABLE:{mode:"index",resource:{api:"/api/v1/incomes/ship-delivery-items",uri:"/admin/incomes/delivery/ship-delivery-items"},columns:[{name:"prefix",label:""},{name:"id",label:"#",field:"id",format:function(t){return"".concat(t)}},{name:"status",label:"Status",field:"status",align:"center",sortable:!0},{name:"part_code",label:"Part code",field:function(t){return t.item.code},align:"left",sortable:!0},{name:"part_name",label:"Part name",field:function(t){return t.item.part_name},align:"left",sortable:!0},{name:"quantity",label:"Quantity",field:"quantity",align:"center",sortable:!0},{name:"unit_id",label:"Unit",field:function(t){return t.unit.code},align:"left",sortable:!0},{name:"pre_delivery_number",label:"No. PDO",field:"pre_delivery_number",align:"left",sortable:!0}]},rsForm:{quantity:null,unit_id:null}}},created:function(){var t=this;this.SHOW=!1,this.INDEX.load(function(){setTimeout(function(){return t.SHOW=!0},500)})},computed:{CustomerOptions:function(){return this.SHEET.customers.data.map(function(t){return{label:t.name,value:t.id}})||[]}},methods:{cancelRow:function(t,e){t.quantity=e.quantity},saveRow:function(t,e){var a=this;this.TABLE.loading=!0;var i="PATCH",l=this.TABLE.resource.api+"/"+t.id,n={quantity:t.quantity,unit_id:t.unit_id};this.$axios.set(i,l,n).then(function(t){a.$app.notify.success("Update Verify #"+t.data.id+" success!")}).catch(function(i){a.cancelRow(t,e),console.error(i.response),a.$app.response.error(i.response,"Update Verify #"+t.id||!1)}).finally(function(){a.TABLE.loading=!1})}}},r=s,o=a("2877"),c=Object(o["a"])(r,i,l,!1,null,null,null);e["default"]=c.exports}}]);