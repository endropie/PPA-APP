(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["2d0c04fe"],{"40f2":function(e,r,a){"use strict";a.r(r);var s=function(){var e=this,r=e.$createElement,a=e._self._c||r;return e.SHOW?a("q-page",{staticClass:"form-page",attrs:{padding:""}},[a("q-card",{staticClass:"q-ma-sm ",attrs:{inline:""}},[a("q-card-section",[a("form-header",{attrs:{title:e.FORM.title(),subtitle:e.FORM.subtitle()}},[a("template",{slot:"menu-item"},[e.$route.params.id?a("list-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:e.$tc("label.remove"),icon:"delete",clickable:""},on:{click:e.FORM.delete}}):e._e()],1)],2)],1),a("q-card-section",{staticClass:"row q-col-gutter-x-sm"},[a("readme",{staticClass:"q-ma-md"}),a("div",{staticClass:"col-12 col-sm-6"},[a("div",{staticClass:"row q-col-gutter-x-md"},[a("q-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"col-8",attrs:{name:"code",label:"Intern. code",dark:e.LAYOUT.isDark,error:e.errors.has("code"),"error-message":e.errors.first("code")},model:{value:e.rsForm.code,callback:function(r){e.$set(e.rsForm,"code",r)},expression:"rsForm.code"}}),a("q-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"col-12",attrs:{name:"name",label:"Nama",dark:e.LAYOUT.isDark,error:e.errors.has("name"),"error-message":e.errors.first("name")},model:{value:e.rsForm.name,callback:function(r){e.$set(e.rsForm,"name",r)},expression:"rsForm.name"}}),a("q-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"col-12 col-sm-6",attrs:{name:"phone",label:"Phone",dark:e.LAYOUT.isDark,error:e.errors.has("phone"),"error-message":e.errors.first("phone")},model:{value:e.rsForm.phone,callback:function(r){e.$set(e.rsForm,"phone",r)},expression:"rsForm.phone"}}),a("q-input",{staticClass:"col-12 col-sm-6",attrs:{name:"fax",label:"Fax",dark:e.LAYOUT.isDark,error:e.errors.has("fax"),"error-message":e.errors.first("fax")},model:{value:e.rsForm.fax,callback:function(r){e.$set(e.rsForm,"fax",r)},expression:"rsForm.fax"}}),a("q-input",{directives:[{name:"validate",rawName:"v-validate",value:"",expression:"''"}],staticClass:"col-12",attrs:{name:"email",label:"Email",dark:e.LAYOUT.isDark,error:e.errors.has("email"),"error-message":e.errors.first("email")},model:{value:e.rsForm.email,callback:function(r){e.$set(e.rsForm,"email",r)},expression:"rsForm.email"}}),a("q-input",{staticClass:"col-12",attrs:{name:"address",type:"textarea",rows:"2",label:"Address","stack-label":"",dark:e.LAYOUT.isDark},model:{value:e.rsForm.address,callback:function(r){e.$set(e.rsForm,"address",r)},expression:"rsForm.address"}}),a("q-input",{staticClass:"col-12 col-sm-6",attrs:{name:"subdistrict",label:"Sub-district",dark:e.LAYOUT.isDark,error:e.errors.has("subdistrict"),"error-message":e.errors.first("subdistrict")},model:{value:e.rsForm.subdistrict,callback:function(r){e.$set(e.rsForm,"subdistrict",r)},expression:"rsForm.subdistrict"}}),a("q-input",{staticClass:"col-12 col-sm-6",attrs:{name:"district",label:"District",dark:e.LAYOUT.isDark,error:e.errors.has("district"),"error-message":e.errors.first("district")},model:{value:e.rsForm.district,callback:function(r){e.$set(e.rsForm,"district",r)},expression:"rsForm.district"}}),a("select-filter",{staticClass:"col-12 col-sm-8",attrs:{name:"province_id",label:"Province",dark:e.LAYOUT.isDark,options:e.ProvinceOptions,filter:"",error:e.errors.has("province_id"),"error-message":e.errors.first("province_id")},model:{value:e.rsForm.province_id,callback:function(r){e.$set(e.rsForm,"province_id",r)},expression:"rsForm.province_id"}}),a("q-input",{staticClass:"col-12 col-sm-4",attrs:{name:"zipcode",label:"Zip Code",dark:e.LAYOUT.isDark,error:e.errors.has("zipcode"),"error-message":e.errors.first("zipcode")},model:{value:e.rsForm.zipcode,callback:function(r){e.$set(e.rsForm,"zipcode",r)},expression:"rsForm.zipcode"}})],1)]),a("div",{staticClass:"col-12 col-sm-6"},[a("div",{staticClass:"row q-col-gutter-x-lg q-mb-lg"},[a("q-field",{staticClass:"col-12",attrs:{error:e.errors.has("pkp"),"error-message":e.errors.first("pkp")}},[a("q-input",{directives:[{name:"validate",rawName:"v-validate",value:"",expression:"''"}],attrs:{name:"pkp",label:"No. PKP",dark:e.LAYOUT.isDark},model:{value:e.rsForm.pkp,callback:function(r){e.$set(e.rsForm,"pkp",r)},expression:"rsForm.pkp"}})],1),a("q-field",{staticClass:"col-12",attrs:{error:e.errors.has("npwp"),"error-message":e.errors.first("npwp")}},[a("q-input",{directives:[{name:"validate",rawName:"v-validate",value:"",expression:"''"}],attrs:{name:"npwp",label:"NPWP",dark:e.LAYOUT.isDark},model:{value:e.rsForm.npwp,callback:function(r){e.$set(e.rsForm,"npwp",r)},expression:"rsForm.npwp"}})],1),a("q-field",{staticClass:"col-12",attrs:{error:e.errors.has("bank_account"),"error-message":e.errors.first("bank_account")}},[a("q-input",{directives:[{name:"validate",rawName:"v-validate",value:"",expression:"''"}],attrs:{name:"bank_account",label:"Bank Account",dark:e.LAYOUT.isDark},model:{value:e.rsForm.bank_account,callback:function(r){e.$set(e.rsForm,"bank_account",r)},expression:"rsForm.bank_account"}})],1),a("div",{staticClass:"col-12 g-dark"},[a("h6",{staticClass:"q-mb-sm text-secondary"},[e._v("\n              Taxes "),a("hr")])]),a("div",{staticClass:"row q-col-gutter-sm  q-mb-lg"},[a("q-field",{staticClass:"col-4  q-mt-lg"},[a("q-toggle",{attrs:{name:"with_tax",label:"Tax","false-value":0,"true-value":1,dark:e.LAYOUT.isDark},model:{value:e.rsForm.with_tax,callback:function(r){e.$set(e.rsForm,"with_tax",r)},expression:"rsForm.with_tax"}})],1),a("q-field",{staticClass:"col-8 q-mt-lg"},[a("q-toggle",{attrs:{name:"with_pph",label:"PPH","false-value":0,"true-value":1,dark:e.LAYOUT.isDark},model:{value:e.rsForm.with_pph,callback:function(r){e.$set(e.rsForm,"with_pph",r)},expression:"rsForm.with_pph"}})],1),a("q-field",{staticClass:"col-4",attrs:{error:e.errors.has("tax"),"error-message":e.errors.first("tax")}},[a("q-input",{attrs:{name:"tax",label:"Tax [PPN]",type:"number",dark:e.LAYOUT.isDark},model:{value:e.rsForm.tax,callback:function(r){e.$set(e.rsForm,"tax",r)},expression:"rsForm.tax"}})],1),a("q-field",{staticClass:"col-4",attrs:{error:e.errors.has("pph_material"),"error-message":e.errors.first("pph_material")}},[a("q-input",{attrs:{name:"pph_material",label:"Material",type:"number",dark:e.LAYOUT.isDark},model:{value:e.rsForm.pph_material,callback:function(r){e.$set(e.rsForm,"pph_material",r)},expression:"rsForm.pph_material"}})],1),a("q-field",{staticClass:"col-4",attrs:{error:e.errors.has("pph_service"),"error-message":e.errors.first("pph_service")}},[a("q-input",{attrs:{name:"pph_service",label:"Service",type:"number",dark:e.LAYOUT.isDark},model:{value:e.rsForm.pph_service,callback:function(r){e.$set(e.rsForm,"pph_service",r)},expression:"rsForm.pph_service"}})],1)],1)],1)])],1),a("q-card-section",{staticClass:"row q-col-gutter-sm q-col-gutter-x-md q-mb-lg"},[a("div",{staticClass:"col-12"},[a("q-list",{staticClass:"main-box bg-secondary",attrs:{dense:"",dark:e.LAYOUT.isDark,color:"secondary",separator:""}},[a("q-item-label",{staticClass:"text-white",attrs:{header:""}},[e._v("Contact List")]),a("q-separator",{attrs:{dark:e.LAYOUT.isDark}}),e._l(e.rsForm.customer_contacts,function(r,s){return a("q-item",{key:s},[a("q-item-section",[a("div",{staticClass:"row q-col-gutter-xs"},[a("q-field",{staticClass:"col-12 col-md-5",attrs:{dense:"",error:e.errors.has("name-contact-"+s),"error-message":e.errors.first("name-contact-"+s)}},[a("q-input",{directives:[{name:"validate",rawName:"v-validate",value:e.rsForm.customer_contacts[s].phone?"required":"",expression:"rsForm.customer_contacts[index].phone ? 'required' : ''"}],attrs:{dense:"",name:"name-contact-"+s,"stack-label":"",label:"Name",placeholder:"Enter fullname ...","inverted-light":"",color:"white"},model:{value:e.rsForm.customer_contacts[s].name,callback:function(r){e.$set(e.rsForm.customer_contacts[s],"name",r)},expression:"rsForm.customer_contacts[index].name"}})],1),a("q-field",{staticClass:"col-12 col-md-3",attrs:{error:e.errors.has("label-contact-"+s),"error-message":e.errors.first("label-contact-"+s)}},[a("q-input",{attrs:{dense:"",name:"label-contact-"+s,"stack-label":"",label:"Position",placeholder:"Enter Position ...","inverted-light":"",color:"white"},model:{value:e.rsForm.customer_contacts[s].label,callback:function(r){e.$set(e.rsForm.customer_contacts[s],"label",r)},expression:"rsForm.customer_contacts[index].label"}})],1),a("q-field",{staticClass:"col-12 col-md-4",attrs:{error:e.errors.has("phone-contact-"+s),"error-message":e.errors.first("phone-contact-"+s)}},[a("q-input",{directives:[{name:"validate",rawName:"v-validate",value:e.rsForm.customer_contacts[s].name?"required":"",expression:"rsForm.customer_contacts[index].name ? 'required' : ''"}],attrs:{dense:"",name:"phone-contact-"+s,"stack-label":"",label:"Phone",placeholder:"xxx-xxxx-xxxx","inverted-light":"",color:"white"},model:{value:e.rsForm.customer_contacts[s].phone,callback:function(r){e.$set(e.rsForm.customer_contacts[s],"phone",r)},expression:"rsForm.customer_contacts[index].phone"}})],1)],1)]),a("q-item-side",[a("q-btn",{attrs:{dense:"",flat:"",icon:"clear",color:"red"},on:{click:function(r){return e.removeContact(s)}}})],1)],1)}),a("q-separator",{attrs:{dark:e.LAYOUT.isDark}}),a("q-item",{staticClass:"no-padding"},[a("q-item-section",{attrs:{align:"center"}},[a("q-btn",{attrs:{align:"center",dense:"",icon:"add",color:"positive",label:"New contact"},on:{click:function(r){return e.addNewContact()}}})],1)],1)],2)],1),a("div",{staticClass:"col-12"},[a("div",{staticClass:"row q-col-gutter-sm q-mb-md",class:{"text-white":e.LAYOUT.isDark}},[a("q-field",{staticClass:"col-12 col-md-4",attrs:{error:e.errors.has("invoice_mode"),"error-message":e.errors.first("invoice_mode"),dark:e.LAYOUT.isDark,helper:"Pick the mode for bill of customers"}},[a("p",{staticClass:"label"},[a("q-icon",{attrs:{name:"credit_card"}}),e._v(" \n              Invoice Type\n            ")],1),a("q-option-group",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"invoice_mode",type:"radio",dark:e.LAYOUT.isDark,options:e.SETTING.customer.invoice_mode},model:{value:e.rsForm.invoice_mode,callback:function(r){e.$set(e.rsForm,"invoice_mode",r)},expression:"rsForm.invoice_mode"}})],1),a("q-field",{staticClass:"col-12 col-md-4",attrs:{color:"secondary",helper:"Pick the mode for Delivery documents",error:e.errors.has("delivery_mode"),"error-message":e.errors.first("delivery_mode")}},[a("p",{staticClass:"label"},[a("q-icon",{attrs:{name:"local_shipping"}}),e._v(" \n              Delivery Type\n            ")],1),a("q-option-group",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"delivery_mode",type:"radio",options:e.SETTING.customer.delivery_mode},model:{value:e.rsForm.delivery_mode,callback:function(r){e.$set(e.rsForm,"delivery_mode",r)},expression:"rsForm.delivery_mode"}})],1),a("q-field",{staticClass:"col-12 col-md-4",attrs:{color:"secondary",helper:"Pick the mode for Sales documents",error:e.errors.has("order_mode"),"error-message":e.errors.first("order_mode")}},[a("p",{staticClass:"label"},[a("q-icon",{attrs:{name:"shop"}}),e._v(" \n              PO Type ("+e._s(e.rsForm.order_mode)+")\n            ")],1),a("q-option-group",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"order_mode",type:"radio",options:e.SETTING.customer.order_mode},model:{value:e.rsForm.order_mode,callback:function(r){e.$set(e.rsForm,"order_mode",r)},expression:"rsForm.order_mode"}})],1)],1)])]),a("q-separator",{attrs:{dark:e.LAYOUT.isDark}}),a("q-card-actions",{staticClass:"q-mx-lg"},[a("q-btn",{attrs:{label:e.$tc("label.cancel"),icon:"cancel",color:"dark"},on:{click:function(r){return e.FORM.toBack()}}}),a("q-btn",{attrs:{label:e.$tc("label.reset"),icon:"refresh",color:"light"},on:{click:function(r){return e.init()}}}),a("q-btn",{attrs:{label:e.$tc("label.save"),icon:"save",color:"positive"},on:{click:function(r){return e.onSave()}}})],1)],1),a("q-inner-loading",{attrs:{visible:e.FORM.loading,dark:e.LAYOUT.isDark}},[a("q-spinner-dots",{attrs:{size:"70px",color:"primary"}})],1)],1):e._e()},t=[],o=(a("551c"),a("06db"),a("097d"),a("7f7f"),a("0ce1")),i=function(){var e=this,r=e.$createElement;e._self._c;return e._m(0)},l=[function(){var e=this,r=e.$createElement,a=e._self._c||r;return a("section",[a("h1",[e._v("Quasar App")]),a("blockquote",[a("p",[e._v("WIP")])])])}],c={components:{}},n=c,m=a("2877"),d=Object(m["a"])(n,i,l,!1,null,null,null);d.options.__file="README.md";var u=d.exports,p={mixins:[o["a"]],components:{Readme:u},data:function(){return{SETTING:{customer:{invoice_mode:[{label:"Service & material are joined",value:"JOIN",color:"positive"},{label:"Service & material are separated",value:"SEPARATE",color:"orange"},{label:"Service & material Specified",value:"DETAIL",color:"blue"}],delivery_mode:[{label:"Service & material are joined",value:"JOIN",color:"positive"},{label:"Service & material are separated",value:"SEPARATE",color:"orange"},{label:"Service & material Specified",value:"DETAIL",color:"blue"},{label:"Units of service & material Specified",value:"UNIT_DETAIL",color:"info"}],order_mode:[{label:"Non-PO (PO Harian)",value:"NONE",color:"blue-grey"},{label:"PO",value:"PO",color:"blue"},{label:"PO Akumulasi",value:"ACCUMULATE",color:"positive"}]}},SHEET:{provinces:{data:[],api:"/api/v1/references/provinces?mode=all"}},FORM:{resource:{uri:"/admin/incomes/customers",api:"/api/v1/incomes/customers"}},rsForm:{},setDefault:function(){return{code:null,name:null,phone:null,fax:null,email:null,address:null,subdistrict:null,district:null,province_id:null,zipcode:null,pkp:null,npwp:null,bank_account:null,with_tax:1,with_pph:1,tax:0,pph_material:0,pph_service:0,invoice_mode:null,delivery_mode:null,order_mode:null,customer_contacts:[{id:null}]}}}},created:function(){this.init()},computed:{ProvinceOptions:function(){return this.SHEET.provinces.data.map(function(e){return{label:e.name,value:e.id}})||[]}},watch:{$route:"init"},methods:{init:function(){var e=this;this.SHOW=!0,this.FORM.load(function(r){e.setForm(r),setTimeout(function(){e.SHOW=!0},500)})},setForm:function(e){this.rsForm=JSON.parse(JSON.stringify(e))},addNewContact:function(){!(arguments.length>0&&void 0!==arguments[0])||arguments[0];var e={id:null,label:null,name:null,phone:null};this.rsForm.customer_contacts.push(e)},removeContact:function(e){this.rsForm.customer_contacts.splice(e,1),this.rsForm.customer_contacts.length<1&&this.addNewContact()},onSave:function(){var e=this;this.$validator.validate().then(function(r){if(r){e.FORM.loading=!0;var a=e.FORM.meta(),s=a.method,t=(a.mode,a.apiUrl);e.$axios.set(s,t,e.rsForm).then(function(r){r.data.name,r.data.id;e.FORM.response.success({message:message}),e.FORM.toView(r.data.id)}).catch(function(r){e.FORM.response.fields(r.response),e.FORM.response.error(r.response,"Submit")}).finally(function(){e.FORM.loading=!1})}else e.$q.notify({color:"negative",icon:"error",position:"top-right",timeout:3e3,message:"Please complete the form fields"})})}}},v=p,f=Object(m["a"])(v,s,t,!1,null,null,null);r["default"]=f.exports}}]);